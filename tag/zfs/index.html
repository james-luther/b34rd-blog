<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" class="h-full" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D,%22class%22:%7B%22ssr%22:%22h-full%22%7D%7D">
  <head>
    <title>Posts tagged &quot;Zfs&quot; | b34rd</title><meta name="gridsome:hash" content="92a90b9266085ce96d20d6cef9819ea072252d0c"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Browse posts tagged &quot;Zfs&quot;"><meta data-vue-tag="ssr" property="og:type" content="website"><meta data-vue-tag="ssr" property="og:title" content="Posts tagged &quot;Zfs&quot;"><meta data-vue-tag="ssr" property="og:description" content="Browse posts tagged &quot;Zfs&quot;"><meta data-vue-tag="ssr" property="og:url" content="https://b34rd.tech/tag/zfs/"><meta data-vue-tag="ssr" property="og:image" content="https://b34rd.tech/images/bleda-card.png"><meta data-vue-tag="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" name="twitter:title" content="Posts tagged &quot;Zfs&quot;"><meta data-vue-tag="ssr" name="twitter:description" content="Browse posts tagged &quot;Zfs&quot;"><meta data-vue-tag="ssr" name="twitter:site" content="@cossssmin"><meta data-vue-tag="ssr" name="twitter:creator" content="@cossssmin"><meta data-vue-tag="ssr" name="twitter:image" content="https://b34rd.tech/images/bleda-card.png"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.56b5f3de807ec30e6680f6f2542ba6b9.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.56b5f3de807ec30e6680f6f2542ba6b9.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.56b5f3de807ec30e6680f6f2542ba6b9.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.56b5f3de807ec30e6680f6f2542ba6b9.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.56b5f3de807ec30e6680f6f2542ba6b9.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.56b5f3de807ec30e6680f6f2542ba6b9.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.56b5f3de807ec30e6680f6f2542ba6b9.png"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans:400,700%7CCardo"><link data-vue-tag="ssr" rel="stylesheet" href="https://lab.subinsb.com/projects/francium/cryptodonate/css/cryptodonate.css"><link rel="preload" href="/assets/css/8.styles.730b85d8.css" as="style"><link rel="preload" href="/assets/js/app.49918c16.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--tag-vue.f9245811.js" as="script"><link rel="prefetch" href="/assets/js/10.76774a38.js"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.91110cbc.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.b657e00c.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.2791c006.js"><link rel="prefetch" href="/assets/js/page--src--templates--author-vue.1574b699.js"><link rel="prefetch" href="/assets/js/page--src--templates--post-vue.e0d89e50.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--index-vue~page--src--templates--author-vue~page--src--templates--post-vue~~a0fae544.402a1eb1.js"><link rel="prefetch" href="/assets/js/vendors~page--src--templates--post-vue.7409c761.js"><link rel="stylesheet" href="/assets/css/8.styles.730b85d8.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body class="antialiased font-serif" data-vue-tag="%7B%22class%22:%7B%22ssr%22:%22antialiased%20font-serif%22%7D%7D">
    <div data-server-rendered="true" id="app"><main><header><div class="max-w-xl md:max-w-3xl xl:max-w-4xl flex flex-col-reverse mx-auto text-center px-6 pt-24 pb-10 md:py-32 border-b border-gray-300"><p class="text-gray-700 leading-normal">1 posts in total</p><h1 class="text-4xl sm:text-5xl md:text-6xl font-sans font-bold mb-2 capitalize">Zfs</h1><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" aria-labelledby="tagIcon" class="w-5 sm:w-6 fill-current text-gray-500 mx-auto mb-1"><title id="tagIcon">Posts tagged</title><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg></div><nav class="absolute top-0 left-0 z-20 mt-6 ml-6"><a href="/" class="text-sm border text-gray-900 border-gray-400 opacity-75 hover:opacity-100 rounded-full px-4 py-2 transition-opacity duration-300 active">← Home</a></nav></header><section><article><div class="mx-auto max-w-3xl px-6"><div class="py-8 sm:py-20 border-b border-gray-300"><header class="text-center mb-8"><time datetime="2018-10-04 00:00:00" class="text-gray-700 text-xs mb-2 uppercase">04 October, 2018</time><h2 class="text-3xl sm:text-4xl leading-tight font-sans mb-1 sm:mb-2"><a href="/breathe-new-life-into-2009-mac-pro/" class="text-black font-bold">Breathe New Life into 2009 Mac Pro</a></h2><p class="text-gray-700 leading-normal text-sm sm:text-base"><span>by <a href="/author/b34rd/" class="text-gray-700 capitalize border-b border-transparent hover:border-gray-400 transition-colors duration-300">B34rd</a></span><!----><span> · </span><span>7 min read</span></p></header><p class="leading-normal text-gray-700 text-lg px-2 sm:px-4 md:px-10">The Mac Pro circa 2009 is an amazing machine. The case is too damn beautiful to not show off and to be honest, the hardware isn’t a slouch either! It was and is a desktop server, with the dual Xeon</p></div></div></article></section><!----><footer class="text-gray-700 text-sm leading-normal flex flex-wrap justify-between mx-auto max-w-3xl px-6 sm:px-12 py-8 sm:py-16"><div class="w-full sm:w-1/2 mb-4 sm:mb-0"><p>For you from <a href="https://twitter.com/b34rd_tek" class="border-b border-transparent hover:border-gray-400 transition-colors duration-300">@b34rd_tek</a></p></div><div class="w-full sm:w-1/2"><nav><ul class="flex sm:justify-end -mx-2"><li class="px-2"><a href="/" class="border-b border-transparent hover:border-gray-400 transition-colors duration-300 active">Home</a></li><li class="px-2"><a href="/about/" class="border-b border-transparent hover:border-gray-400 transition-colors duration-300">About</a></li><li class="px-2"><a href="/sitemap.xml" class="border-b border-transparent hover:border-gray-400 transition-colors duration-300">Sitemap</a></li><li class="px-2"><a href="/feed.xml" class="border-b border-transparent hover:border-gray-400 transition-colors duration-300">RSS Feed</a></li></ul></nav></div></footer></main></div>
    <script>window.__INITIAL_STATE__={"data":{"tag":{"id":"zfs","title":"zfs","path":"\u002Ftag\u002Fzfs\u002F","belongsTo":{"totalCount":1,"pageInfo":{"totalPages":1,"currentPage":1},"edges":[{"node":{"id":"b5a42ad62d3385f6234cd762b775da47","title":"Breathe New Life into 2009 Mac Pro","datetime":"2018-10-04 00:00:00","path":"\u002Fbreathe-new-life-into-2009-mac-pro\u002F","content":"\u003Cp\u003EThe Mac Pro circa 2009 is an amazing machine. The case is too damn beautiful to not show off and to be honest, the hardware isn’t a slouch either! It was and is a desktop server, with the dual Xeon processors from Intel and up to 128 GB of RAM (after you update the firmware) the machine can go a long way for a LONG time. I originally purchased this for development. At the time I was doing a LOT of mobile research on iOS and MacOS in general. The common denominator for testing and developing was the need for Apple hardware. The price tag in 2009 wasn’t too bad either, for $2500 I was able to score an Apple Display and the Mac Pro with an ATI Radeon HD 5770, Dual 2.26 Quad Core Xeons, and 16 GB of RAM. Even at 2009 prices, that’s a steal!\u003C\u002Fp\u003E\n\u003Cp\u003EFor easily two years this machine was a monster at every task I threw at it. Once I moved on to more Android-based security research I found MacOS was severely lacking. It was great for development but not for much else I did. This drove me to install Linux. I went with OpenSuSE because of the stability and how developer friendly it has always been (my opinion has since changed as I’m a die-hard Arch guy these days but that’s not the point here). Things were going great and research was rocking! Moving on another year or two life struck and kids happened. I was no longer able to spend evenings researching and the computer sat which brings me to today, 2018. I have a 9 (more like 10) year old computer that has the potential for new life. Here’s where we start…\u003C\u002Fp\u003E\n\u003Cp\u003EMy plan is to install Arch and make this beast into a KVM server. I’m going to upgrade the RAM to 128GB and host virtual machines for Node-Red, Web services, Motion, Home Assistant, Plex, NextCloud, and probably make one for a NAS, and possibly a few others. Let’s get started…\u003C\u002Fp\u003E\n\u003Cp\u003EFirst, we need to get a copy of Arch. Head over to archlinux.org\u002Fdownload and grab a copy of the latest iso.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*49sHvnr4p0Vy32d0Rl5IYA.png\" alt=\"alt text\" title=\"Arch Linux Download Page\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EMake sure after you’ve downloaded you verify the hash.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*2Ii7C0vqlMGjG8yV6u56MQ.png\" alt=\"alt text\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ENow we can either burn the iso to a disk or copy to flash drive. I prefer the flash route.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# dd if=\u002Fpath\u002Fto\u002Farchlinux.iso of=\u002Fdev\u002Fmy\u002Fusb\u002Fdevice bs=4M.\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EUpon completion, plug into the Mac, hold the option key, and boot up!\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*mrWs53QTngfpwNqlJy2shw.jpeg\" alt=\"alt text\" title=\"Hold Option Key while Booting\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EIt may take a bit for the screen to display but eventually, you will get some boot options:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*IngJM5tr0MnAaAVHEQleEw.jpeg\" alt=\"alt text\" title=\"Boot Options\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EMake sure you select the disc or the USB device you loaded your Arch iso onto. From here we are brought to a root terminal and can begin our install. For those who have never used Arch Linux in the past, the wiki is amazing. It is probably the BEST documented of any distribution of Linux and will help you in every way. Based on what you want to accomplish, the wiki will guide you through the remainder of the install. You can see it here: \u003Ca href=\"https:\u002F\u002Fwiki.archlinux.org\u002Findex.php\u002Finstallation_guide\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fwiki.archlinux.org\u002Findex.php\u002Finstallation_guide\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ENow, we have network connectivity and have set our timezone. Time for us to get started. Since we’re going to install an LVM RAID, we need to turn on smartctl for our devices. Just open up your favorite editor (I prefer vim) and edit \u002Fetc\u002Fsmartd.conf. I added the following lines for my devices:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*Hmnl_3_YCxZwLhlMKUpFmA.png\" alt=\"alt text\" title=\"Adding devices to smartd\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ETime to partition and set up our RAID. Depending on your version of Arch and fdisk, it may be different and since these drives have been used in the past, I’m just going to delete all partitions and set them up as Linux filesystem type. We need to make sure to create a ~200MB partition for EFI. When we make the EFI partition, set the type to 1, EFI. After this is created, execute “fdisk \u002Fdev\u002Fsdx” for your device and delete partitions (minus your EFI partition), create a new primary partition, and set the partition type, then finally write the changes. You will need to do this for every device you are adding to your LVM RAID.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1470\u002F1*9oh7iRJerbkncyNTOdVM9w.png\" alt=\"alt text\" title=\"Creating our EFI filesystem\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EHere is where I start doing things a little differently than the install wiki. Now, I use LVM on the array to setup volume groups… From there, we install our base system and continue. To do this we run\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# pvcreate \u002Fdev\u002Fsdx, vgcreate VolGroup00 \u002Fdev\u002Fsdx. \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWe will then verify everything with vgdisplay. After verifying we create our logical volume as raid 5 and use all the space available.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F552\u002F1*SC0hi8TdBwndc-5NFemSzA.png\" alt=\"alt text\" title=\"vgdisplay output\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F552\u002F1*ZFBV88S9LjDhly5ATd2ruA.png\" alt=\"alt text\" title=\"lvcreate\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*Hsz-w97H7_ywhpk3aJSMHA.png\" alt=\"alt text\" title=\"lvdisplay\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EFrom here we mount everything and run pacstrap with our base package selection. First we mount our arch-root to \u002Fmnt and our EFI to \u002Fmnt\u002Fboot. This is accomplished by executing:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# mount \u002Fdev\u002FVolGroup00\u002Farch-root \u002Fmnt\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# mkdir \u002Fmnt\u002Fboot\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# mount \u002Fdev\u002Fsda1 \u002Fmnt\u002Fboot\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWe need to run pacstrap to get our base installed. You can add any package groups along with this command but I prefer to just install the base and then select individual packages with pacman in chroot step.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# pacstrap \u002Fmnt base \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*1pE4Lm2kxW8ne6LqfC5evQ.png\" alt=\"alt text\" title=\"pacstrap installing base\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EOnce complete, we generate our fstab.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# genfstab -U \u002Fmnt &gt;&gt; \u002Fmnt\u002Fetc\u002Ffstab’. \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENow we go into our chroot and finish up.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# arch-chroot \u002Fmnt\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWe set our timezone, run hwclock, set locale, specify LANG and keymap. Then we configure networking and install our bootloader. These steps don’t differ from the Arch installation wiki until it comes to bootloader.\u003C\u002Fp\u003E\n\u003Cp\u003ESince this is a Mac we need to install intel-ucode package. This package is microcode for the processor. The BIOS updates will sort this out for you but, we aren’t able to update our bios. This is super important for us especially after spectre and meltdown updates were released.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*XO3wWmU94kBYtkXXEcAqYg.png\" alt=\"alt text\" title=\"install of intel-ucode package\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ELet’s go ahead and install all the KVM packages and requirements. We need to verify the kernel installed supports virtualization. We can check with:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# lsmod | grep kvm\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# lsmod | grep virtio\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# zgrep VIRTIO \u002Fproc\u002Fconfig.gz \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*BIsyJYXnIzNGoeGAcawLKQ.png\" alt=\"alt text\" title=\"checking kvm status\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EFrom here we need to install the qemu package and libvirt package. I’m going with qemu-headless since this machine is going to run without a display and be managed remotely.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*R2g6T7zVqMoKGUwenaE4mA.png\" alt=\"alt text\" title=\"qemu installation\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EOnce complete you will see a few additional packages suggested. If you feel the need for them, go for it. It all depends on your system. I installed samba as well as the qemu extras.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*GhGZvA36wVIp0SbLhBlM8g.png\" alt=\"alt text\" title=\"qemu extras\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EThe last thing I’m going to do is create a general user and setup sshd. To add my user, run:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# useradd -m -g users -G wheel,storage,power -s \u002Fbin\u002Fbash username\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# passwd username\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# pacman -S sudo\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# vi \u002Fetc\u002Fsudoers\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# uncomment the line below:\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #24292EFF\"\u003E%wheel ALL=(ALL) ALL\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENext, we need to install openssh.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# pacman -S openssh \u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #24292EFF\"\u003E - Next we edit our sshd config\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# vi \u002Fetc\u002Fssh\u002Fsshd_config\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EHere there are only a few things we need to specify, our listen address, listen port, users allowed, and to disable root login.\u003C\u002Fp\u003E\n\u003Cp\u003EAfter we make our edits we enable the service…\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# systemctl enable sshd.service\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F552\u002F1*OxWwK3vgM0liljAhMbvG0w.png\" alt=\"alt text\" title=\"install openssh\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F552\u002F1*wbFE_ECx8ktNIgjNboSW0w.png\" alt=\"alt text\" title=\"uncomment listen port and address\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*HHIZjZii-Xps2v0bcGMoww.png\" alt=\"alt text\" title=\"specify users and disable root in sshd\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ENow that we’ve finished all of this let’s setup the ramfs and our bootloader.\u003C\u002Fp\u003E\n\u003Cp\u003ETo begin we need to add some lvm items to \u002Fetc\u002Fmkinitcpio.conf.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# vi \u002Fetc\u002Fmkinitcpio.conf\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #24292EFF\"\u003E -- We need to add systemd and sd-lvm2 to the HOOKS section --\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #24292EFF\"\u003E -- We also need to add dm-raid raid0 raid1 raid10 raid456 to the MODULES section --\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1400\u002F1*Xfg1uI5EpHAaWL2fT00hHg.png\" alt=\"alt text\" title=\"adding items to hooks\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EOnce we save we can generate run:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# mkinitcpio -p linux\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ELastly, we install our systemd bootloader and configure it. This is done with two commands:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# bootctl --path=\u002Fboot install\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"line\"\u003E\u003Cspan style=\"color: #C2C3C5\"\u003E# bootctl --path=\u002Fboot update\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EReboot and enjoy!\u003C\u002Fp\u003E\n\u003Cp\u003EArch can be a bit intense for an install but it is well worth it when finished.\u003C\u002Fp\u003E\n\u003Cp\u003EReferences:\nS.M.A.R.T. - ArchWiki\nS.M.A.R.T. (Self-Monitoring, Analysis, and Reporting Technology) is a supplementary component built into many modern…\nwiki.archlinux.org\nInstallation guide - ArchWiki\nThis document is a guide for installing Arch Linux from the live system booted with the official installation image…\nwiki.archlinux.org\nLVM - ArchWiki\nVirtual partitions allow addition and removal without worry of whether you have enough contiguous space on a particular…\nwiki.archlinux.org\nGRUB - ArchWiki\nGRUB (GRand Unified Bootloader) is a multi-boot loader. It is derived from PUPA which was a research project to develop…\nwiki.archlinux.org\nMicrocode - ArchWiki\nProcessor manufacturers release stability and security updates to the processor microcode. While microcode can be…\nwiki.archlinux.org\nEFI system partition - ArchWiki\nAccording to a Microsoft note[2], the minimum size for the EFI system partition (ESP) would be 100 MiB, though this is…\nwiki.archlinux.org\nMeltdown and Spectre\nMeltdown and Spectre exploit critical vulnerabilities in modern processors. These hardware vulnerabilities allow…\nmeltdownattack.com\nKVM - ArchWiki\nKVM, Kernel-based Virtual Machine, is a hypervisor built into the Linux kernel. It is similar to Xen in purpose but…\nwiki.archlinux.org\nQEMU - ArchWiki\nWhen used as a machine emulator, QEMU can run OSes and programs made for one machine (e.g. an ARM board) on a different…\nwiki.archlinux.org\u003C\u002Fp\u003E\n","excerpt":"The Mac Pro circa 2009 is an amazing machine. The case is too damn beautiful to not show off and to be honest, the hardware isn’t a slouch either! It was and is a desktop server, with the dual Xeon","description":"Taking an old Mac Pro from 2009 and repurposing with Arch and ZFS","timeToRead":7,"author":{"id":"b34rd","title":"b34rd","path":"\u002Fauthor\u002Fb34rd\u002F"}}}]}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.49918c16.js" defer></script><script src="/assets/js/page--src--templates--tag-vue.f9245811.js" defer></script>
  </body>
</html>
